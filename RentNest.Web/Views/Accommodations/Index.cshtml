@model List<RentNest.Web.Models.AccommodationIndexViewModel>
@{
	ViewData["Title"] = "Phòng";
}
<section class="hero-wrap hero-wrap-2" style="background-image: url('images/bg_3.jpg');"
	data-stellar-background-ratio="0.5">
	<div class="overlay"></div>
	<div class="container">
		<div class="row no-gutters slider-text align-items-end justify-content-start mt-4">
			<div class="col-md-9 ftco-animate pb-4">
				<p class="breadcrumbs">
					<span class="mr-2">
						<a href="/trang-chu">
							Trang chủ <i class="ion-ios-arrow-forward"></i>
						</a>
					</span>
					<span>
						Danh sách các phòng <i class="ion-ios-arrow-forward"></i>
					</span>
				</p>
			</div>
			<form asp-action="Search" method="post" asp-controller="Accommodations">
				<div class="row g-2 align-items-end">
					<!-- Province -->
					<div class="col-md">
						<label for="provinceDropdown" style="color:black; font-weight:500;">
							Province <span style="color:red;">*</span>
						</label>
						<select id="provinceDropdown" class="form-control" required
							style="background:transparent; color:white; border:1px solid rgba(255,255,255,0.7);">
							<option value="">Chọn tỉnh/thành phố...</option>
						</select>
						<input name="provinceName" type="hidden" id="provinceName" />
						<div class="invalid-feedback">Vui lòng chọn tỉnh/thành phố.</div>
					</div>

					<!-- District -->
					<div class="col-md">
						<label for="districtDropdown" style="color:black; font-weight:500;">
							District <span style="color:red;">*</span>
						</label>
						<select id="districtDropdown" class="form-control" required
							style="background:transparent; color:white; border:1px solid rgba(255,255,255,0.7);">
							<option value="">Chọn quận/huyện...</option>
						</select>
						<input name="DistrictName" type="hidden" id="districtName" />
						<div class="invalid-feedback">Vui lòng chọn quận/huyện.</div>
					</div>

					<!-- Ward -->
					<div class="col-md">
						<label for="wardDropdown" style="color:black; font-weight:500;">
							Ward <span style="color:red;">*</span>
						</label>
						<select id="wardDropdown" class="form-control" required
							style="background:transparent; color:white; border:1px solid rgba(255,255,255,0.7);">
							<option value="">Chọn phường/xã...</option>
						</select>
						<input name="WardName" type="hidden" id="wardName" />
						<div class="invalid-feedback">Vui lòng chọn phường/xã.</div>
					</div>

					<!-- Area -->
					<div class="col-md">
						<label for="area" style="color:black; font-weight:500;">Diện tích (m²)</label>
						<input type="number" class="form-control" id="area" name="area" min="0" step="0.1"
							placeholder="Diện tích (m²)"
							style="background:transparent; color:white; border:1px solid rgba(255,255,255,0.7);">
					</div>

					<!-- Min Money -->
					<div class="col-md">
						<label for="price" style="color:black; font-weight:500;">Giá tiền thấp nhất(VNĐ)</label>
						<input name="minMoney" type="number" class="form-control" id="minMoney" name="minMoney" min="0"
							step="1000" placeholder="Giá tiền (VNĐ)"
							style="background:transparent; color:white; border:1px solid rgba(255,255,255,0.7);">
					</div>
					<!-- Max Money -->
					<div class="col-md">
						<label for="price" style="color:black; font-weight:500;">Giá tiền cao nhất(VNĐ)</label>
						<input name="maxMoney" type="number" class="form-control" id="maxMoney" name="maxMoney" min="0"
							step="1000" placeholder="Giá tiền (VNĐ)"
							style="background:transparent; color:white; border:1px solid rgba(255,255,255,0.7);">
					</div>

					<!-- Submit -->
					<div class="col-auto d-flex align-items-end">
						<button type="submit" class="btn btn-primary px-4 h-100">Tìm</button>
					</div>
				</div>
			</form>
			<div style="height: 40px;"></div>
		</div>
	</div>
</section>
<section class="ftco-properties" id="properties-section" style="margin-top: 4rem">
	<div class="container-fluid px-md-5">
		<div class="row">
			<div class="col-lg-3 pr-lg-4">
				<div class="search-wrap">
					<h3 class="mb-5">Tìm kiếm</h3>
					<form action="#" class="search-property">
						<div class="row">
							<!-- Loại phòng -->
							<div class="col-md-12 align-items-end ftco-animate">
								<div class="form-group">
									<label for="#">Loại phòng</label>
									<div class="form-field">
										<div class="select-wrap">
											<div class="icon"><span class="ion-ios-arrow-down"></span></div>
											<select name="" id="" class="form-control">
												<option value="">Chọn loại phòng</option>
												<option value="">Phòng trọ</option>
												<option value="">Nhà nguyên căn</option>
												<option value="">Căn hộ ,Chung cư</option>
											</select>
										</div>
									</div>
								</div>
							</div>
							<!-- Trạng thái phòng -->
							<div class="col-md-12 align-items-end ftco-animate">
								<div class="form-group">
									<label for="#">Trạng thái phòng</label>
									<div class="form-field">
										<div class="select-wrap">
											<div class="icon"><span class="ion-ios-arrow-down"></span></div>
											<select name="" id="" class="form-control">
												<option value="">Chọn trạng thái</option>
												<option value="">Cho thuê</option>
												<option value="">Đã thuê</option>
											</select>
										</div>
									</div>
								</div>
							</div>
							<!-- Giá thuê tối thiểu -->
							<div class="col-md-12 align-items-end ftco-animate">
								<div class="form-group">
									<label for="min-price">Giá thuê tối thiểu</label>
									<div class="form-field">
										<input type="number" id="min-price" name="min-price" class="form-control"
											placeholder="Nhập giá tối thiểu (VNĐ)">
									</div>
								</div>
							</div>

							<!-- Giá thuê tối đa -->
							<div class="col-md-12 align-items-end ftco-animate">
								<div class="form-group">
									<label for="max-price">Giá thuê tối đa</label>
									<div class="form-field">
										<input type="number" id="max-price" name="max-price" class="form-control"
											placeholder="Nhập giá tối đa (VNĐ)">
									</div>
								</div>
							</div>

							<!-- Diện tích tối thiểu -->
							<div class="col-md-12 align-items-end ftco-animate">
								<div class="form-group">
									<label for="#">Diện tích tối thiểu <span>(m²)</span></label>
									<div class="form-field">
										<div class="icon"><span class="icon-pencil"></span></div>
										<input type="text" class="form-control" placeholder="Nhập diện tích tối thiểu">
									</div>
								</div>
							</div>
							<!-- Diện tích tối đa -->
							<div class="col-md-12 align-items-end ftco-animate">
								<div class="form-group">
									<label for="#">Diện tích tối đa <span>(m²)</span></label>
									<div class="form-field">
										<div class="icon"><span class="icon-pencil"></span></div>
										<input type="text" class="form-control" placeholder="Nhập diện tích tối đa">
									</div>
								</div>
							</div>
						</div>
					</form>
				</div>
			</div><!-- end -->
			<div class="col-lg-9">
				<div class="row">
					@foreach (var item in Model)
					{
						var statusColor = item.Status == "A" ? "bg-primary" : "bg-secondary";
						var statusText = item.Status == "A" ? "Cho thuê" : item.Status == "R" ? "Đã thuê" : "Không hoạt động";

						<div class="col-md-6 col-lg-6">
							<div class="properties ftco-animate">
								<div class="img" style="height: 325px;">
									<img src="@item.ImageUrl" class="img-fluid" alt="@item.Title" style="height: auto; object-fit: cover;">
								</div>
								<div class="desc">
									<div class="text @statusColor d-flex text-center align-items-center justify-content-center">
										<span>@statusText</span>
									</div>
									<div class="d-flex pt-5">
										<div>
											<h3>
												<a style="font-family: system-ui;"
												   href="@Url.Action("Detail", "Accommodations", new {id = item.Id })">
													@item.Title
												</a>
											</h3>
										</div>
										<div class="pl-md-4">
											<h4 class="price">@(((item.Price ?? 0) / 1_000_000M).ToString("0.#").Replace('.', ',')) tr/tháng</h4>
										</div>
									</div>
									<p class="h-info"><span class="location">@item.Address</span></p>
								</div>
							</div>
						</div>
					}
				</div>
			</div>
				
				<div class="row mt-5">
					<div class="col text-center">
						<div class="block-27">
							<ul>
								<li><a href="#">&lt;</a></li>
								<li class="active"><span>1</span></li>
								<li><a href="#">2</a></li>
								<li><a href="#">3</a></li>
								<li><a href="#">4</a></li>
								<li><a href="#">5</a></li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>
@section script {
	<script src="~/js/address.js"></script>
	<script src="~/js/filter.js"></script>
}